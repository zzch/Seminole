<div class="pageheader">
  <h2><i class="fa fa-pencil-square-o"></i> 卡种管理 <span>编辑</span></h2>
</div>
<div class="contentpanel">
  <%= render "op/commons/error_messages", target: @card %>
  <div class="panel panel-default">
    <%= form_for @card, html: { class: 'form-horizontal form-bordered' } do |f| %>
      <div class="panel-body panel-body-nopadding">
        <div class="form-group">
          <label class="col-sm-3 control-label"><%= brac_arat 'card.type' %></label>
          <div class="col-sm-6">
            <%= text_field_tag nil, te_card_type(@card.type), readonly: true, class: 'form-control' %>
          </div>
        </div>
        <% unless @card.type_visitor? %>
        <div class="form-group">
          <label class="col-sm-3 control-label"><%= brac_arat 'card.name' %> <span class="asterisk">*</span></label>
          <div class="col-sm-6">
            <%= f.text_field :name, class: 'form-control' %>
          </div>
        </div>
        <div class="form-group">
          <label class="col-sm-3 control-label"><%= brac_arat 'card.background_color' %> <span class="asterisk">*</span></label>
          <div class="col-sm-2">
            <div class="input-group">
              <span class="input-group-addon">#</span>
              <%= f.text_field :background_color, class: 'form-control' %>
            </div>
          </div>
          <label class="col-sm-2 control-label"><%= brac_arat 'card.font_color' %> <span class="asterisk">*</span></label>
          <div class="col-sm-2">
            <div class="input-group">
              <span class="input-group-addon">#</span>
              <%= f.text_field :font_color, class: 'form-control' %>
            </div>
          </div>
        </div>
        <div class="form-group">
          <label class="col-sm-3 control-label"><%= brac_arat 'card.price' %> <span class="asterisk">*</span></label>
          <div class="col-sm-2">
            <div class="input-group">
              <%= f.text_field :price, class: 'form-control' %>
              <span class="input-group-addon">元</span>
            </div>
          </div>
          <label class="col-sm-2 control-label"><%= brac_arat 'card.total_amount' %> <span class="asterisk">*</span></label>
          <div class="col-sm-2">
            <div class="input-group">
              <%= f.text_field :total_amount, class: 'form-control' %>
              <span class="input-group-addon">张</span>
            </div>
          </div>
        </div>
        <div class="form-group">
          <label class="col-sm-3 control-label"><%= brac_arat 'card.valid_months' %> <span class="asterisk">*</span></label>
          <div class="col-sm-2">
            <div class="input-group">
              <%= f.text_field :valid_months, class: 'form-control' %>
              <span class="input-group-addon">月</span>
            </div>
          </div>
          <label class="col-sm-2 control-label"><%= brac_arat 'card.maximum_vacancies' %> <span class="asterisk">*</span></label>
          <div class="col-sm-2">
            <div class="input-group">
              <%= f.text_field :maximum_vacancies, class: 'form-control' %>
              <span class="input-group-addon">个</span>
            </div>
          </div>
        </div>
        <% end %>
        <% if @card.type_by_ball? %>
        <div class="form-group">
          <label class="col-sm-3 control-label"><%= brac_arat 'card.ball_amount' %></label>
          <div class="col-sm-6">
            <%= f.text_field :ball_amount, class: 'form-control' %>
          </div>
        </div>
        <% elsif @card.type_by_time? %>
        <div class="form-group">
          <label class="col-sm-3 control-label"><%= brac_arat 'card.minute_amount' %></label>
          <div class="col-sm-6">
            <%= f.text_field :minute_amount, class: 'form-control' %>
          </div>
        </div>
        <% elsif @card.type_stored? %>
        <div class="form-group">
          <label class="col-sm-3 control-label"><%= brac_arat 'card.deposit' %></label>
          <div class="col-sm-6">
            <%= f.text_field :deposit, class: 'form-control' %>
          </div>
        </div>
        <div class="form-group">
          <label class="col-sm-3 control-label"><%= brac_arat 'card.price_per_hour' %></label>
          <div class="col-sm-6">
            <%= f.text_field :price_per_hour, class: 'form-control' %>
          </div>
        </div>
        <div class="form-group">
          <label class="col-sm-3 control-label"><%= brac_arat 'card.price_per_ball' %></label>
          <div class="col-sm-6">
            <%= f.text_field :price_per_ball, class: 'form-control' %>
          </div>
        </div>
        <% end %>
        <div class="form-group">
          <div class="col-sm-12 text-center">
            <%= f.submit '提交', class: 'btn btn-primary' %>&nbsp;
            <%= link_to '返回', cards_path, class: 'btn btn-default' %>
          </div>
        </div>
      </div>
    <% end %>
  </div>
</div>
<% content_for :javascript do %>
  <script>
    jQuery(document).ready(function(){
      $('#card_category_id').chosen({'width': '100%', 'white-space': 'nowrap'});
    });
  </script>
<% end %>